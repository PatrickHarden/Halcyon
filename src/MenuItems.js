import React from 'react'
import { Link, withSiteData } from 'react-static'
import {
    NavItem,
    UncontrolledDropdown,
    DropdownToggle,
    DropdownMenu,
    DropdownItem,
} from 'reactstrap'
import { LinkContainer } from 'react-router-bootstrap'
import ReactHtmlParser from 'react-html-parser'
import ReactSVG from 'react-svg'

import directionsIcon from './images/directions_icon.png';
import cinebistroIcon from './images/cinebistro_icon.png';
import DiningIcon from './images/Dining.svg';
import eventsIcon from './images/events_icon.png';
import shoppingIcon from './images/shopping_icon.png';
import signupIcon from './images/signup_icon.png';

export default withSiteData(class MenuList extends React.Component {

    constructor(props) {
        super(props);
    }

    render() {
        const menus = this.props.menus
        const {toggle} = this.props

        return menus.items.map((menu, i) => {
            return (
                    <div key={i}>
                        {(menu.children) ? (
                            <UncontrolledDropdown nav inNavbar>
                                <DropdownToggle nav caret>
                                    {menu.title}
                                </DropdownToggle>
                                <DropdownMenu right>
                                    {
                                        menu.children.map((children, i) => {
                                            return (
                                                <LinkContainer to={"/" + children.object_slug}>
                                                <DropdownItem key={'children-'+i}>
                                                    <NavItem>
                                                        <Link to={"/" + children.object_slug} onClick={toggle}  className="nav-link">{ReactHtmlParser(children.title)}</Link>
                                                    </NavItem>
                                                </DropdownItem>
                                                </LinkContainer>
                                            )
                                        })
                                    }
                                </DropdownMenu>
                            </UncontrolledDropdown>

                        ) :
                            <NavItem>
                                <Link to={'/' + menu.object_slug} href={'/' + menu.object_slug} onClick={toggle}  className="nav-link">
                                {(menu.object_slug == 'hours-directions') ? <div className='nav-icon directions'><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
	 viewBox="0 0 200 200" enableBackground="new 0 0 200 200">
<g>
	<path fill="#58595B" d="M146.1,50.8c0-11.3-9.2-20.4-20.4-20.4c-11.3,0-20.4,9.2-20.4,20.4c0,11.3,9.2,20.4,20.4,20.4
		C137,71.2,146.1,62.1,146.1,50.8z M113.8,50.8c0-6.6,5.3-11.9,11.9-11.9c6.6,0,11.9,5.3,11.9,11.9c0,6.6-5.3,11.9-11.9,11.9
		C119.1,62.7,113.8,57.4,113.8,50.8z"/>
	<path fill="#58595B" d="M170.8,64.2h-5.7c2.7-7.4,4.1-13.3,4.1-17.7c0-24-19.5-43.5-43.5-43.5c-24,0-43.5,19.5-43.5,43.5
		c0,4.3,1.4,10.3,4.1,17.7H28.7c-5.6,0-10.2,4.6-10.2,10.2v113.4c0,5.6,4.6,10.2,10.2,10.2h142.1c5.6,0,10.2-4.6,10.2-10.2V74.4
		C181,68.8,176.4,64.2,170.8,64.2z M111,155.7h34.2v33.8H111V155.7z M102.5,189.5H58.6v-33.8h43.9V189.5z M58.6,147.2v-22.5h24.8
		c1.1,0,2.2-0.4,3-1.2l19.2-19.2c8.6,15.4,16.4,27.8,16.5,27.9c0.8,1.2,2.1,2,3.6,2c1.5,0,2.8-0.7,3.6-2c0.1-0.1,9.1-14.3,18.4-31.3
		v0.1h24.8v46.2H58.6z M50.1,147.2H27v-22.5h23.1V147.2z M170.8,72.7c1,0,1.7,0.8,1.7,1.7v18.1h-20.4c3.8-7.3,7-13.9,9.6-19.8H170.8
		z M125.7,11.5c19.3,0,35,15.7,35,35c0,15.1-22.7,55.2-35,75.4c-12.3-20.1-35-60.3-35-75.4C90.7,27.2,106.4,11.5,125.7,11.5z
		 M101.4,96.5l-19.7,19.7H58.6V72.7h31.1C92.7,79.6,96.6,87.6,101.4,96.5z M28.7,72.7h21.4v43.5H27V74.4
		C27,73.5,27.8,72.7,28.7,72.7z M27,187.8v-32.1h23.1v33.8H28.7C27.8,189.5,27,188.7,27,187.8z M170.8,189.5h-17.1v-33.8h18.8v32.1
		C172.5,188.7,171.7,189.5,170.8,189.5z"/>
</g>
</svg></div> : ""}
                                {(menu.object_slug == 'cinebistro') ? <div className='nav-icon cmx'><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 281.49 88.68"><title>CMX Logo</title><polygon className="cls-1" points="111.3 85.11 111.32 85.11 111.32 85.1 111.3 85.11"/><polygon className="cls-2" points="264.56 3.78 234.27 3.78 249.69 25.82 264.56 3.78"/><path className="cls-3" d="M49,135.88A39.23,39.23,0,1,1,81.66,75l4.08-3.15a44.36,44.36,0,1,0,.69,48.49l-4.18-3A39.24,39.24,0,0,1,49,135.88Z" transform="translate(-4.63 -52.32)"/><path className="cls-3" d="M49,116.41A19.76,19.76,0,1,1,66.17,87L80.65,75.8a38,38,0,1,0,.56,40.82L66.38,106A19.75,19.75,0,0,1,49,116.41Z" transform="translate(-4.63 -52.32)"/><polygon className="cls-3" points="176.02 85.11 150.1 85.11 176.04 43.61 176.02 85.11"/><rect className="cls-3" x="89.24" y="3.8" width="5.11" height="81.3"/><polygon className="cls-3" points="151.84 3.8 132.44 35.27 113.05 3.8 95.62 3.8 95.62 85.11 111.65 85.11 111.65 38.41 132.44 70.24 132.81 70.24 175.66 4.34 176.03 3.8 151.84 3.8"/><polygon className="cls-4" points="265.42 85.11 208.53 3.78 202.7 3.78 258.59 85.11 265.42 85.11"/><polygon className="cls-4" points="181.15 3.78 207.89 43.77 180.02 85.11 208.64 85.11 222.62 63.16 236.49 85.11 257.05 85.11 201.16 3.78 181.15 3.78"/><path className="cls-4" d="M279.24,136.08c0,.58.43.81.95.81s.8-.28.8-.57a.45.45,0,0,0-.31-.46c-.26-.1-.61-.17-1.12-.31a1,1,0,0,1-.83-1c0-.75.69-1.1,1.37-1.1s1.44.41,1.44,1.2h-.65c0-.48-.36-.66-.82-.66-.3,0-.69.11-.69.49s.18.41.45.48l1.09.29a1,1,0,0,1,.73,1c0,.84-.75,1.18-1.5,1.18s-1.55-.41-1.57-1.35Z" transform="translate(-4.63 -52.32)"/><path className="cls-4" d="M282.21,133.58h.93l1,2.94h0l1-2.94h.92v3.76h-.63v-2.9h0l-1,2.9h-.55l-1-2.9h0v2.9h-.63Z" transform="translate(-4.63 -52.32)"/></svg></div> : ""}
                                {(menu.object_slug == 'dining') ? <div className='nav-icon dining'><svg version="1.1" xmlns="http://www.w3.org/2000/svg"  x="40px" y="40px" viewBox="0 0 200 200" enableBackground="new 0 0 200 200"><g><path fill="#58595B" d="M195.5,22.9c0-1.6-0.8-3-2.1-4c-1.3-0.9-2.9-1.1-4.4-0.7c-2.7,0.9-6.4,2.9-9.2,7.7
		c-4.5,7.7-8.1,28.2-11,62.6c-0.5,5.5,2.2,10.7,6.8,13.6l2.7,1.7c0.8,0.5,1.4,1.5,1.3,2.5l-1.1,65.3c0,2.8,1,5.5,3,7.5
		c2,2,4.6,3.1,7.4,3.1c2.8,0,5.5-1.1,7.5-3.2c2-2,3-4.7,2.9-7.5L195.5,22.9C195.5,22.9,195.5,22.9,195.5,22.9z M192.4,175
		c-1.7,1.8-4.8,1.8-6.6,0c-0.9-0.9-1.3-2.1-1.3-3.3l1.1-65.3c0.1-3-1.5-5.9-4.1-7.5l-2.7-1.7c-2.8-1.7-4.4-4.9-4.1-8.1
		c3.5-41.2,7.5-55.4,10.2-60.2c1.5-2.6,3.3-3.9,4.8-4.6l3.9,147.4C193.7,172.9,193.2,174.1,192.4,175z"/>
	<path fill="#58595B" d="M32.4,100.1c0,36.8,29.9,66.7,66.7,66.7c36.8,0,66.7-29.9,66.7-66.7c0-36.8-29.9-66.7-66.7-66.7
		C62.3,33.4,32.4,63.3,32.4,100.1z M159.9,100.1c0,33.6-27.3,60.9-60.9,60.9c-33.6,0-60.9-27.3-60.9-60.9
		c0-33.6,27.3-60.9,60.9-60.9C132.6,39.2,159.9,66.5,159.9,100.1z"/>
	<path fill="#58595B" d="M102.3,50.5c17.5,0,33.4,9.7,41.4,25.3c0.5,1,1.5,1.6,2.6,1.6c0.4,0,0.9-0.1,1.3-0.3c1.4-0.7,2-2.5,1.3-3.9
		c-9-17.6-26.8-28.5-46.6-28.5c-1.6,0-2.9,1.3-2.9,2.9C99.3,49.1,100.7,50.5,102.3,50.5z"/>
	<path fill="#58595B" d="M146.2,81.9c1.6,4.8,2.5,9.9,2.5,15c0,1.6,1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9c0-5.8-0.9-11.5-2.8-16.9
		c-0.5-1.5-2.2-2.3-3.7-1.8C146.5,78.7,145.7,80.4,146.2,81.9z"/>
	<path fill="#58595B" d="M54.5,100.1c0,24.6,20,44.5,44.5,44.5c24.6,0,44.5-20,44.5-44.5s-20-44.5-44.5-44.5
		C74.5,55.6,54.5,75.5,54.5,100.1z M99.1,61.4c21.3,0,38.7,17.4,38.7,38.7c0,21.3-17.4,38.7-38.7,38.7c-21.4,0-38.7-17.4-38.7-38.7
		C60.4,78.8,77.7,61.4,99.1,61.4z"/>
	<path fill="#58595B" d="M8.4,179c2,2,4.6,3.1,7.4,3.1c2.8,0,5.4-1.1,7.4-3.1c2-2,3-4.7,2.9-7.5L23.7,77c4.9-1.3,8.5-5.8,8.5-11.1
		v-8.1V21.1c0-1.6-1.3-2.9-2.9-2.9c-1.6,0-2.9,1.3-2.9,2.9v33.9h-3.5V21.1c0-1.6-1.3-2.9-2.9-2.9c-1.6,0-2.9,1.3-2.9,2.9v33.9h-2.5
		V21.1c0-1.6-1.3-2.9-2.9-2.9c-1.6,0-2.9,1.3-2.9,2.9v33.9H5.3V21.1c0-1.6-1.3-2.9-2.9-2.9c-1.6,0-2.9,1.3-2.9,2.9v36.8V66
		c0,5.3,3.6,9.7,8.5,11.1l-2.5,94.5C5.4,174.4,6.5,177,8.4,179z M5.3,66v-5.2h21.1V66c0,3.1-2.5,5.6-5.6,5.6c-0.8,0-1.5,0.3-2.1,0.9
		c-0.5,0.6-0.8,1.3-0.8,2.1l2.5,97.1c0,1.2-0.4,2.4-1.3,3.3c-1.7,1.8-4.8,1.8-6.5,0c-0.9-0.9-1.3-2-1.3-3.3l2.5-97.1
		c0-0.8-0.3-1.5-0.8-2.1c-0.5-0.6-1.3-0.9-2.1-0.9C7.8,71.6,5.3,69.1,5.3,66z"/>
</g>
</svg></div> : ""}
                                {(menu.object_slug == 'events') ? <div className='nav-icon events'><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
	 viewBox="0 0 200 200" enableBackground="new 0 0 200 200">
<path fill="#58595B" d="M187.7,144.4l6.9-18.4l-5.6,1.7c-0.6,0.2-1.1,0.3-1.6,0.5c-0.1,0-0.2,0.1-0.2,0.1c-2.3-5.2-5.2-9.5-8.9-13.1
	c-9.2-9.1-19.7-13.8-31.4-13.8c-4.1,0-8.3,0.6-12.6,1.7c-10.9,2.9-20.2,9.7-26.1,19.2c-5.9,9.4-8,20.7-6.1,31.9
	c1.8,10.2,7.2,19.6,15.4,26.4c8.1,6.7,18.2,10.4,28.5,10.4c1.8,0,3.7-0.1,5.5-0.3c11.5-1.5,21.2-6.7,28.8-15.5
	c3.1-3.6,5.5-7.5,7.1-11.6c0.5-1.4,0.4-3.7-0.9-4.9c-1-0.9-2.5-1.3-3.5-1.3c-0.4,0-0.8,0.1-1.2,0.1c-1.7,0.5-2.7,2.1-3.1,3.1
	c-5.7,12.9-18.5,21.2-32.6,21.2c-2.3,0-4.6-0.2-6.8-0.7c-9.4-1.9-17.5-7.3-22.7-15.3c-5.3-8-7.1-17.6-5.1-27.1
	c3.2-15.2,16.5-26.9,31.6-27.9c1-0.1,2-0.1,3-0.1c11.2,0,20.6,4.6,28,13.5c1.8,2.1,3.2,4.4,4.3,7l-7.1,2.5L187.7,144.4z"/>
<path fill="#58595B" d="M164.8,161.5c0,1-0.3,2-1,2.8c-0.7,0.8-1.8,1.3-2.9,1.3c0,0,0,0,0,0c-1,0-1.9-0.3-2.6-1l-10-8.2
	c-0.6,0.1-1.3,0.2-1.9,0.2c-4.8,0-8.7-3.9-8.7-8.7c0-2.8,1.4-5.5,3.7-7.1l1.1-17.9c0-2.1,1.8-3.8,3.9-3.8c2.1,0,3.9,1.7,3.9,3.8
	l1.1,17.9c2.3,1.6,3.7,4.3,3.7,7.1c0,0.4,0,0.8-0.1,1.3l8.6,9.7C164.3,159.6,164.7,160.5,164.8,161.5z"/>
<path fill="#58595B" d="M116.1,31.8c0,0.3,0,0.6,0,0.9c0,1.8,0.8,3.2,2.2,4.2c1.9,1.5,4,1.7,6.2,0.8c2.5-1.1,3.6-3.3,3.6-6
	c0-5.7,0-11.4,0-17.1c0-0.9-0.2-1.9-0.5-2.7c-0.9-2.5-3.7-4.2-6.2-3.8c-2.9,0.4-5.2,2.6-5.3,5.5c-0.1,2.2-0.1,4.4,0,6.6
	c-15.7,0-51.1,0.1-51.7,0.2c0,0.7,0,1.3,0,1.8c0,3.2,0,6.4,0,9.6C79.7,31.8,100.2,31.8,116.1,31.8z"/>
<path fill="#58595B" d="M164.3,97.9c0-19.7,0-39.4,0-59.1c0-0.5,0-0.9,0-1.4c-0.4-8.4-6.3-15.3-14.5-16.9c-2.6-0.5-5.4-0.4-8.1-0.4
	c-2.5-0.1-1.8,0-4.5,0V22c0,3.2,0,6.4,0,9.6c0,0.1,0,0.1,0,0.2h8.1c4.6,0,7.1,2.5,7.1,7.1v11.7H18.4V38.8c0-4.6,2.5-7.1,7.1-7.1
	h17.1c0,0.8,0.1,1.7,0.4,2.4c0.9,2.7,3.5,4.3,6.5,4c2.7-0.3,4.9-2.6,5-5.4c0.1-3.2,0-6.5,0-9.7c0-3.2,0.1-6.4,0-9.6
	C54.4,11,52.6,9,50.2,8.3c-4.1-1.2-7.7,1.8-7.7,6.4c0,1.8,0,3.7,0,5.5c-2.6,0-10.1,0-12,0c-3,0.1-6.1-0.2-9.1,0.3
	c-9.1,1.6-15.1,9-15.1,18.5c0,36,0,72.1,0,108.1c0,10.9,7.9,18.8,18.8,18.8c24.5,0,49,0,73.5,0c-1.4-3.4-2.4-6.9-3.1-10.6
	c-0.1-0.5-0.2-1-0.2-1.5c-23.3,0-46.6,0-69.9,0c-4.6,0-7.1-2.5-7.1-7.1c0-18,0-36,0-54c0-10.8,0-21.6,0-32.4h133.9
	c0,10.8,0,21.6,0,32.4V95C156.4,95.5,160.4,96.4,164.3,97.9z"/>
</svg></div> : ""}
                                {(menu.object_slug == 'shopping') ? <img id="shoppingIcon" src={shoppingIcon} /> : ""}
                                {(menu.object_slug == 'sign-up') ? <div className='nav-icon sign-up'><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
	 viewBox="0 0 200 200" enableBackground="new 0 0 200 200">
<g id="_x32_">
	<path fill="none" stroke="#58595B" strokeWidth="9" strokeLinecap="square" strokeMiterlimit="10" d="M125.2,62.6
		c0,0-23.9-18.6-46.9,0.6c-8,6.7-11.9,15.6-15.4,26.1c-6.3,19.1-8.9,60.2,19.2,60.2c12.1,0,28.4-6.6,38.4-32.9L125.2,62.6z"/>
	<path fill="none" stroke="#58595B" strokeWidth="9" strokeLinecap="square" strokeMiterlimit="10" d="M120.7,120.8
		c0.6,10.3,4.6,34.8,30,26.2c37.5-12.8,42.8-114.4-15.4-134.9C79.3-7.7,12.8,24.2,12.8,107.7c0,83.5,71.4,97.7,112.4,78.9"/>
</g>
</svg></div> : ""}
                                {ReactHtmlParser(menu.title)}</Link>
                            </NavItem>
                        }                     
                    </div>
            )
        })

    }
})